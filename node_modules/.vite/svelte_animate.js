import {
  cubicOut
} from "./chunk-HFIF6SB4.js";
import {
  is_function
} from "./chunk-BK3ZXRA3.js";
import {
  init_buffer,
  init_virtual_process_polyfill
} from "./chunk-MX5QOG3T.js";

// dep:svelte_animate
init_virtual_process_polyfill();
init_buffer();

// node_modules/svelte/animate/index.mjs
init_virtual_process_polyfill();
init_buffer();
function flip(node, { from, to }, params = {}) {
  const style = getComputedStyle(node);
  const transform = style.transform === "none" ? "" : style.transform;
  const [ox, oy] = style.transformOrigin.split(" ").map(parseFloat);
  const dx = from.left + from.width * ox / to.width - (to.left + ox);
  const dy = from.top + from.height * oy / to.height - (to.top + oy);
  const { delay = 0, duration = (d) => Math.sqrt(d) * 120, easing = cubicOut } = params;
  return {
    delay,
    duration: is_function(duration) ? duration(Math.sqrt(dx * dx + dy * dy)) : duration,
    easing,
    css: (t, u) => {
      const x = u * dx;
      const y = u * dy;
      const sx = t + u * from.width / to.width;
      const sy = t + u * from.height / to.height;
      return `transform: ${transform} translate(${x}px, ${y}px) scale(${sx}, ${sy});`;
    }
  };
}
export {
  flip
};
//# sourceMappingURL=svelte_animate.js.map
